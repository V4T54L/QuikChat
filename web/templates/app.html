<!DOCTYPE html>
<html lang="en" class="h-full bg-primary">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuikChat</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="h-full text-text-main">

    <!-- Auth View -->
    <div id="auth-view" class="flex items-center justify-center h-full">
        <div class="w-full max-w-md p-8 space-y-8 bg-secondary rounded-lg shadow-lg">
            <div>
                <h2 class="text-3xl font-extrabold text-center text-highlight">QuikChat</h2>
            </div>
            <!-- Login / Register Tabs -->
            <div class="flex border-b border-accent">
                <button id="login-tab-btn"
                    class="flex-1 py-2 font-semibold text-highlight border-b-2 border-highlight">Login</button>
                <button id="register-tab-btn" class="flex-1 py-2 font-semibold text-text-dim">Register</button>
            </div>

            <!-- Login Form -->
            <form id="login-form" class="mt-8 space-y-6">
                <input type="text" name="username" id="login-username" placeholder="Username" required class="...">
                <input type="password" name="password" id="login-password" placeholder="Password" required class="...">
                <button type="submit" class="...">Sign In</button>
            </form>

            <!-- Register Form -->
            <form id="register-form" class="hidden mt-8 space-y-6">
                <input type="text" name="username" id="register-username" placeholder="Username (a-z, 0-9, _)" required
                    class="...">
                <input type="password" name="password" id="register-password" placeholder="Password (min 8 chars)"
                    required class="...">
                <button type="submit" class="...">Create Account</button>
            </form>
            <p id="auth-error" class="text-sm text-center text-red-400"></p>
        </div>
    </div>

    <!-- Chat View -->
    <div id="chat-view" class="hidden h-full">
        <div class="flex h-full">
            <!-- Sidebar -->
            <aside class="flex flex-col w-80 bg-secondary">
                <!-- User Profile -->
                <div id="user-profile-container" class="p-4 border-b border-accent"></div>

                <!-- Conversations -->
                <div class="flex-1 overflow-y-auto chat-scrollbar">
                    <!-- Friends List -->
                    <div id="friends-list-container" class="p-4"></div>
                    <!-- Groups List -->
                    <div id="groups-list-container" class="p-4"></div>
                </div>

                <!-- Actions -->
                <div class="p-4 border-t border-accent">
                    <button id="logout-btn"
                        class="w-full py-2 text-sm font-bold text-primary bg-highlight rounded-md hover:bg-teal-300">Logout</button>
                </div>
            </aside>

            <!-- Main Chat Area -->
            <main class="flex flex-col flex-1 bg-primary">
                <!-- Chat Header -->
                <header id="chat-header" class="flex items-center p-4 border-b shadow-md h-18 border-accent">
                    <h2 id="chat-title" class="text-xl font-bold">Select a conversation</h2>
                </header>

                <!-- Messages -->
                <div id="messages-container" class="flex-1 p-4 overflow-y-auto chat-scrollbar">
                    <!-- Messages will be rendered here -->
                </div>

                <!-- Message Input -->
                <footer class="p-4">
                    <form id="message-form" class="flex items-center">
                        <input id="message-input" type="text" placeholder="Type a message..." autocomplete="off"
                            class="w-full px-4 py-2 bg-accent rounded-l-md focus:outline-none focus:ring-2 focus:ring-highlight"
                            disabled>
                        <button type="submit"
                            class="px-4 py-2 font-bold text-primary bg-highlight rounded-r-md hover:bg-teal-300"
                            disabled>Send</button>
                    </form>
                </footer>
            </main>
        </div>
    </div>

    <script type="module" src="/static/js/main.js"></script>
</body>

</html>